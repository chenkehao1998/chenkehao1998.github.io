(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{870:function(t,e,s){"use strict";s.r(e);var r=s(3),a=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("RouterLink",{attrs:{to:"/软件使用/linux/linux开机自启动.html"}},[t._v("linux开机自启动")])],1),t._v(" "),e("p",[t._v("docker服务开机自启动")]),t._v(" "),e("p",[t._v("设置容器自启动")]),t._v(" "),e("p",[t._v("可以在运行的时候通过设置--restart 参数")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker run --restart always --name mynginx -d nginx\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("参数取值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("no")]),t._v(" "),e("td",[t._v("不自动重启容器. (默认值)")])]),t._v(" "),e("tr",[e("td",[t._v("on-failure")]),t._v(" "),e("td",[t._v("容器发生error而退出(容器退出状态不为0)重启容器,可以指定重启的最大次数，如：on-failure:10")])]),t._v(" "),e("tr",[e("td",[t._v("unless-stopped")]),t._v(" "),e("td",[t._v("在容器已经stop掉或Docker stoped/restarted的时候才重启容器")])]),t._v(" "),e("tr",[e("td",[t._v("always")]),t._v(" "),e("td",[t._v("在容器已经stop掉或Docker stoped/restarted的时候才重启容器，手动stop的不算")])])])]),t._v(" "),e("p",[t._v("如果容器已经创建，可以通过以下方式更新重启策略")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker update --restart always 容器ID\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=a.exports}}]);