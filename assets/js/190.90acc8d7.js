(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{844:function(v,c,t){"use strict";t.r(c);var a=t(3),s=Object(a.a)({},(function(){var v=this,c=v._self._c;return c("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[c("p",[v._v("一个 IP 数据报由首部和数据两部分组成。")]),v._v(" "),c("p",[c("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20va2VoYW9vL3BpY2dvX3JlcG9zaXRvcnkvcmF3L21hc3Rlci9pbWcvaW1hZ2UtMjAyMDA0MjcxNDU0NTIwMTEucG5n?x-oss-process=image/format,png",alt:"image-20200427145452011"}})]),v._v(" "),c("p",[v._v("首部分为"),c("strong",[v._v("固定部分和可变部分")]),v._v("，固定部分长度为20个字节，可变部分长度是可变的。")]),v._v(" "),c("p",[c("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20va2VoYW9vL3BpY2dvX3JlcG9zaXRvcnkvcmF3L21hc3Rlci9pbWcvaW1hZ2UtMjAyMDA0MjcxNDU1MTEwODQucG5n?x-oss-process=image/format,png",alt:"image-20200427145511084"}})]),v._v(" "),c("h1",{attrs:{id:"固定部分"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#固定部分"}},[v._v("#")]),v._v(" 固定部分")]),v._v(" "),c("p",[v._v("版本ip协议版本：ipv4和ipv6")]),v._v(" "),c("ul",[c("li",[c("p",[v._v("首部长度：占 4 位，可表示的最大数值是 15 （ $2^4 - 1$）个单位(一个单位为 4 字节)。因此 IP 的首部长度的最大值是 60 字节(15*4)。")])]),v._v(" "),c("li",[c("p",[v._v("区分服务：占 8 位，只有在使用区分服务（DiffServ）时，这个字段才起作用。"),c("strong",[v._v("在一般的情况下都不使用这个字段")]),v._v("。")])]),v._v(" "),c("li",[c("p",[v._v("总长度：占 16 位，这个字段的内容表示"),c("strong",[v._v("首部和数据之和的长度")]),v._v("，单位为字节，因此数据报的最大长度为 65535 字节。")])])]),v._v(" "),c("p",[v._v("进行数据报的分片的原因")]),v._v(" "),c("ol",[c("li",[v._v("IP数据报的总长度必须不超过数据链路层最大传送单元 MTU。")]),v._v(" "),c("li",[v._v("若所传送的数据报的长度超过数据链路层的MTU值， 就必须把过长的数据报进行分片处理。")])]),v._v(" "),c("p",[v._v("标识：占 16 位，它是一个计数器，用来产生 IP 数据报的标识。")]),v._v(" "),c("blockquote",[c("p",[v._v("有同样标识的ip数据报属于同一个未分片的ip数据报")])]),v._v(" "),c("p",[v._v("标志(flag)：占 3 位，目前只有前两位有意义。")]),v._v(" "),c("blockquote",[c("p",[v._v("标志字段的最低位是 MF (More Fragment)。MF = 1 表示后面“还有分片”。 MF = 0 表示最后一个分片。")]),v._v(" "),c("p",[v._v("标志字段中间的一位是 DF (Don‘t Fragment) 。  DF = 1 表示不允许分片。 MF = 0 表示允许分片。")])]),v._v(" "),c("p",[v._v("片偏移：占13 位，指出：较长的分组在分片后某片在原分组中的相对位置。片偏移以 "),c("strong",[v._v("8 个字节为偏移单位")]),v._v("。")]),v._v(" "),c("p",[c("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20va2VoYW9vL3BpY2dvX3JlcG9zaXRvcnkvcmF3L21hc3Rlci9pbWcvaW1hZ2UtMjAyMDA0MjcxNTEyNDAzMzcucG5n?x-oss-process=image/format,png",alt:"image-20200427151240337"}})]),v._v(" "),c("p",[c("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20va2VoYW9vL3BpY2dvX3JlcG9zaXRvcnkvcmF3L21hc3Rlci9pbWcvaW1hZ2UtMjAyMDA0MjcxNTEzMTAyMjUucG5n?x-oss-process=image/format,png",alt:"image-20200427151310225"}})]),v._v(" "),c("p",[v._v("生存时间——占8 位，记为 TTL (Time To Live)，表明数据报在网络中的寿命。表示为数据报在网络中"),c("strong",[v._v("可通过的路由器数的最大值")]),v._v("。")]),v._v(" "),c("blockquote",[c("p",[v._v("用于防止数据报的目的地址是无效的，而在网络中无限转发，每转发一次生存时间减1")])]),v._v(" "),c("p",[v._v("协议：占8 位，指出此数据报携带的数据使用何种协议，以便目的主机的 IP 层将数据部分上交给哪个处理过程。")]),v._v(" "),c("blockquote",[c("p",[v._v("可能是tcp也可能是udp，也有可能是ip路由协议")])]),v._v(" "),c("p",[v._v("首部检验和：占16 位，只检验数据报的首部，不检验数据部分")]),v._v(" "),c("blockquote",[c("p",[v._v("数据部分由运输层来校验错误")]),v._v(" "),c("p",[c("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20va2VoYW9vL3BpY2dvX3JlcG9zaXRvcnkvcmF3L21hc3Rlci9pbWcvaW1hZ2UtMjAyMDA0MjcxNTIwMDg4MDEucG5n?x-oss-process=image/format,png",alt:"image-20200427152008801"}})])]),v._v(" "),c("h1",{attrs:{id:"可变部分"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#可变部分"}},[v._v("#")]),v._v(" 可变部分")]),v._v(" "),c("p",[v._v("可选字段：长度可变，从 1 个字节到 40 个字节不等，取决于所选择的项目，用来支持排错、测量以及安全等措施。实际上很少被使用。")])])}),[],!1,null,null,null);c.default=s.exports}}]);